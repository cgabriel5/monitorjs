!function(r){"use strict";var t=function(){var r=function(r){return Object.prototype.toString.call(r).replace(/(\[object |\])/g,"").toLowerCase()};r.is=function(r,t){var e=this(r);return t="|"+t.toLowerCase().trim()+"|",Boolean(-~t.indexOf("|"+e+"|"))},r.isnot=function(r,t){return!this.is(r,t)};var t=function(r){var t=r.constructor__,e=r.methods__,a=r.extend__;a&&(t.prototype=Object.create(a.prototype),t.prototype.constructor=t);var n=t.prototype;for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return t}({constructor__:function(r,e){if(!(this instanceof t))return new t(r,e);this.controller=r||void 0,this.object=e||{},this.cache={},this.callbacks={strings:[],regexps:[]}},methods__:{get:function(t){var e=this,a=e.object;t=t.replace(/^\.|\.$/g,"");for(var n=t.split("."),o=0,i=n.length;o<i;o++){var l=n[o],s=(l.match(/^[^\[]+/g)||[""])[0],c=l.match(/\[\d+\]/g)||[];n[o]=[l,s,c]}for(var v=a,o=0,i=n.length;o<i;o++){var l=n[o],s=l[1],c=l[2];if(!v[s]&&!v.hasOwnProperty(s))return!1;if(v,v=v[s],c.length)for(var g=0,p=c.length;g<p;g++){var h=c[g].replace(/^\[|\]$/g,"");if(v,v=v[h],r.isnot(v,"Object|Array"))return!1}}return{val:v}},set:function(t,e){var a,n=this,o=n.object,i=n.cache,l=Date.now(),s="update";if(!(a=i[t.trim()])){var c=n.get(t),v=r.is(c,"Object");a=[,,v?c.val:void 0],s=v?"update":"add"}var g=a?a[2]:void 0;i[t]=[l,s,e],t=t.replace(/^\.|\.$/g,"");for(var p=t.split("."),h=0,f=p.length;h<f;h++){var u=p[h],d=(u.match(/^[^\[]+/g)||[""])[0],b=u.match(/\[\d+\]/g)||[];p[h]=[u,d,b]}for(var y=o,h=0,f=p.length;h<f;h++){var u=p[h],d=u[1],b=u[2];if(h!==f-1||b.length){var j=y[d]?y[d]:b.length?[]:{};y[d]=j,y,y=y[d]}else y[d]=e;if(b.length)for(var x=0,_=b.length;x<_;x++){var m=b[x].replace(/^\[|\]$/g,"");if(x===_-1)if(h===f-1)y[m]=e;else{var j=y[m]?y[m]:{};y[m]=j,y,y=y[m]}else{var j=y[m]?y[m]:[];y[m]=j,y,y=y[m]}}}var w=[t,s,e,g,l];n.controller&&n.controller.apply(n,w);for(var O=this.callbacks,k=O.strings,h=0,f=k.length;h<f;h++){var $=k[h],D=$[0],I=$[1];D===t&&I.apply(n,w)}for(var P=O.regexps,h=0,f=P.length;h<f;h++){var $=P[h],D=$[0],I=$[1];D.lastIndex=0,D.test(t)&&I.apply(n,w)}return o},unset:function(t){var e=this,a=e.object,n=(e.cache,Date.now());t=t.replace(/^\.|\.$/g,"");for(var o=t.split("."),i=0,l=o.length;i<l;i++){var s=o[i],c=(s.match(/^[^\[]+/g)||[""])[0],v=s.match(/\[\d+\]/g)||[];o[i]=[s,c,v]}for(var g=a,p=a,i=0,l=o.length;i<l;i++){var s=o[i],c=s[1],v=s[2];if(!p[c]&&!p.hasOwnProperty(c))return!1;if(g=p,p=p[c],v.length)for(var h=0,f=v.length;h<f;h++){var u=v[h].replace(/^\[|\]$/g,"");if(g=p,p=p[u],r.isnot(p,"Object|Array"))return!1}}delete g[c];var d=[t,"delete",void 0,p,n];e.controller&&e.controller.apply(e,d);for(var b=this.callbacks,y=b.strings,i=0,l=y.length;i<l;i++){var j=y[i],x=j[0],_=j[1];x===t&&_.apply(e,d)}for(var m=b.regexps,i=0,l=m.length;i<l;i++){var j=m[i],x=j[0],_=j[1];x.lastIndex=0,x.test(t)&&_.apply(e,d)}},trigger:function(t,e){var a,n=this,o=(n.object,n.cache),i=Date.now();if(!(a=o[t.trim()])){var l=n.get(t);a=[,,r.is(l,"Object")?l.val:void 0]}var s=a?a[2]:void 0;o[t]=[i,"trigger",e];var c=[t,"trigger",e||void 0,s,i];n.controller&&n.controller.apply(n,c);for(var v=this.callbacks,g=v.strings,p=0,h=g.length;p<h;p++){var f=g[p],u=f[0],d=f[1];u===t&&d.apply(n,c)}for(var b=v.regexps,p=0,h=b.length;p<h;p++){var f=b[p],u=f[0],d=f[1];u.lastIndex=0,u.test(t)&&d.apply(n,c)}},on:function(t,e){this.callbacks["string"===r(t)?"strings":"regexps"].push([t,e])},off:function(r){for(var t=this.callbacks,e=t.strings,a=0,n=e.length;a<n;a++){var o=e[a],i=o[0];o[1];i===r&&e.splice(a,1)}for(var l=t.regexps,a=0,n=l.length;a<n;a++){var o=l[a],i=o[0];o[1];i.toString()===r.toString()&&l.splice(a,1)}}},extend__:!1});return t}(),e=r.app||(r.app={});(e.libs||(e.libs={})).Monitor=t}(window);