!function(t){"use strict";var r=function(){function t(t){return t.replace(/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g,"\\$&")}var r=function(t){return Object.prototype.toString.call(t).replace(/(\[object |\])/g,"").toLowerCase()};r.is=function(t,r){var e=this(t);return r="|"+r.toLowerCase().trim()+"|",Boolean(-~r.indexOf("|"+e+"|"))},r.isnot=function(t,r){return!this.is(t,r)};var e=function(t){var r=t.constructor__,e=t.methods__,a=t.extend__;a&&(r.prototype=Object.create(a.prototype),r.prototype.constructor=r);var o=r.prototype;for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return r}({constructor__:function(t,r){if(!(this instanceof e))return new e(t,r);this.controller=t||void 0,this.object=r||{},this.cache={},this.callbacks=[]},methods__:{get:function(t){var e=this,a=e.object;t=t.replace(/^\.|\.$/g,"");for(var o=t.split("."),n=0,i=o.length;n<i;n++){var c=o[n],l=(c.match(/^[^\[]+/g)||[""])[0],s=c.match(/\[\d+\]/g)||[];o[n]=[c,l,s]}for(var v=a,n=0,i=o.length;n<i;n++){var c=o[n],l=c[1],s=c[2];if(!v[l]&&!v.hasOwnProperty(l))return!1;if(v,v=v[l],s.length)for(var h=0,g=s.length;h<g;h++){var p=s[h].replace(/^\[|\]$/g,"");if(v,v=v[p],r.isnot(v,"Object|Array"))return!1}}return{val:v}},set:function(t,e,a){var o,n=this,i=n.object,c=n.cache,l=Date.now(),a=a||{},s="update";if(!(o=c[t.trim()])){var v=n.get(t),h=r.is(v,"Object");o=[,,h?v.val:void 0],s=h?"update":"add"}var g=o?o[2]:void 0;c[t]=[l,s,e,a],t=t.replace(/^\.|\.$/g,"");for(var p=t.split("."),f=0,u=p.length;f<u;f++){var d=p[f],b=(d.match(/^[^\[]+/g)||[""])[0],m=d.match(/\[\d+\]/g)||[];p[f]=[d,b,m]}for(var y=i,f=0,u=p.length;f<u;f++){var d=p[f],b=d[1],m=d[2];if(f!==u-1||m.length){var w=y[b]?y[b]:m.length?[]:{};y[b]=w,y,y=y[b]}else y[b]=e;if(m.length)for(var j=0,_=m.length;j<_;j++){var O=m[j].replace(/^\[|\]$/g,"");if(j===_-1)if(f===u-1)y[O]=e;else{var w=y[O]?y[O]:{};y[O]=w,y,y=y[O]}else{var w=y[O]?y[O]:[];y[O]=w,y,y=y[O]}}}var $=[t,s,e,g,l,a];n.controller&&n.controller.apply(n,$);for(var x=this.callbacks,f=0,u=x.length;f<u;f++){var k=x[f],S=k[0],C=k[1],N=C.monitorName;S.lastIndex=0,S.test(t)&&C.apply(n,[N].concat($.slice()))}return i},unset:function(t){var e=this,a=e.object,o=(e.cache,Date.now());t=t.replace(/^\.|\.$/g,"");for(var n=t.split("."),i=0,c=n.length;i<c;i++){var l=n[i],s=(l.match(/^[^\[]+/g)||[""])[0],v=l.match(/\[\d+\]/g)||[];n[i]=[l,s,v]}for(var h=a,g=a,i=0,c=n.length;i<c;i++){var l=n[i],s=l[1],v=l[2];if(!g[s]&&!g.hasOwnProperty(s))return!1;if(h=g,g=g[s],v.length)for(var p=0,f=v.length;p<f;p++){var u=v[p].replace(/^\[|\]$/g,"");if(h=g,g=g[u],r.isnot(g,"Object|Array"))return!1}}delete h[s];var d=[t,"delete",void 0,g,o];e.controller&&e.controller.apply(e,d);for(var b=this.callbacks,i=0,c=b.length;i<c;i++){var m=b[i],y=m[0],w=m[1],j=w.monitorName;y.lastIndex=0,y.test(t)&&w.apply(e,[j].concat(d.slice()))}},trigger:function(t,e,a){var o,n=this,i=(n.object,n.cache),c=Date.now(),a=a||{};if(!(o=i[t.trim()])){var l=n.get(t);o=[,,r.is(l,"Object")?l.val:void 0]}var s=o?o[2]:void 0;i[t]=[c,"trigger",e,a];var v=[t,"trigger",e||void 0,s,c,a];n.controller&&n.controller.apply(n,v);for(var h=this.callbacks,g=0,p=h.length;g<p;g++){var f=h[g],u=f[0],d=f[1],b=d.monitorName;u.lastIndex=0,u.test(t)&&d.apply(n,[b].concat(v.slice()))}},on:function(e,a){if("string"===r(e))e=new RegExp("^"+t(e)+"$","y");else{var o=["y"],n={global:"g",ignoreCase:"i",multiline:"m",unicode:"u"};for(var i in n)n.hasOwnProperty(i)&&e[i]&&o.push(n[i]);e=new RegExp(e.toString().replace(/^\/|\/$/g,""),o.join(""))}a.monitorName=e.toString(),this.callbacks.push([e,a])},off:function(t){for(var r=this.callbacks,e=0,a=r.length;e<a;e++){var o=r[e],n=o[0];o[1];n.toString()===t.toString()&&regexps.splice(e,1)}},clearCache:function(){this.cache={}}},extend__:!1});return e}(),e=t.app||(t.app={});(e.libs||(e.libs={})).Monitor=r}(window);